# Report API v1.0

---

## 1. 概要
Report Generator は、ユーザーが入力したテキストから  
Markdown 形式のレポートを自動生成する機能を提供する。

- 主な利用シーン
  - 日報 / 週報
  - 会議メモ
  - プロジェクト進捗の簡易レポート

---

## 2. エンドポイント

### 2.1 `POST /report/generate`
- **機能**: 入力テキストを Markdown レポートに変換する。

#### リクエスト例
```json
{
  "content": "今日は三つのタスクを完了しました。設計、テスト、バグ修正。"
}
```
#### レスポンス例（成功）
```json
{
  "status": "success",
  "data": {
    "markdown": "# 今日の作業\n\n- 設計\n- テスト\n- バグ修正"
  }
}
```
#### レスポンス例（エラー）
```json
{
  "status": "error",
  "message": "content が空です"
}
```
---

## 3. パラメータ仕様

| パラメータ | 型     | 必須 | 説明                       |
|------------|--------|------|----------------------------|
| content    | string | 必須 | レポート化したい入力テキスト |

- **content**: ユーザーが入力する自由形式のテキスト。  
  - 例: `"今日は三つのタスクを完了しました。設計、テスト、バグ修正。"`

---

## 4. 処理フロー

1. フロントエンドから `/report/generate` に `content` を送信する  
2. バックエンドの `reporter.py` が `content` を Markdown 構造に変換  
   - 文を分割し、リスト形式へ整形  
   - 見出し（タイトル）を自動付与  
3. 生成された Markdown を JSON レスポンスとして返却  
4. フロントエンドで Markdown を HTML に変換し、プレビュー表示する  

---

## 5. エラーハンドリング

- **入力が空の場合**  
  - ステータスコード: `400`  
  - レスポンス:  
    ```json
    {
      "status": "error",
      "message": "content が空です"
    }
    ```

- **内部処理エラー**  
  - ステータスコード: `500`  
  - レスポンス:  
    ```json
    {
      "status": "error",
      "message": "内部エラーが発生しました"
    }
    ```
---

## 6. 将来拡張（v2 以降）

- **エクスポート機能**  
  - PDF / HTML 形式でのレポート出力  
- **複合 API**  
  - `/analyze/content` を追加し、1回のリクエストで  
    - Markdown レポート  
    - Mermaid.js 図表  
    を同時に生成  
- **自然言語処理の導入**  
  - 将来的に OpenAI API 等を利用し、入力テキストをより構造的に解析し高品質なレポートを自動生成



