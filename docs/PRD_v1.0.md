# StructNote プロダクト要求仕様書 (PRD) v1.0

## 1. 製品ビジョン
StructNote は、ユーザーが入力または検索したテキストを  
**思考の可視化・構造化** に変換する知識加工支援ツールである。  

ユーザーは NotebookLM や Notion など外部の知識源で検索した結果を、  
StructNote に取り込み、**マインドマップ・業務フロー図・システム構成図・レポート書** を  
ワンクリックで生成できる。  

目的は「情報を最小限の操作で直感的に理解できる形に変換し、  
知識共有・業務資料作成の生産性を大幅に向上させる」ことである。  

---

## 2. 対象ユーザー
- **企業の知的労働者**：会議議事録や業務手順を図表化したい人  
- **研究者・学生**：文献やノートを整理して視覚的に理解したい人  
- **個人知識管理者**：メモやノートを効率よく再利用したい人  

---

## 3. ユーザー課題
1. NotebookLM やノートから得た知識を「図表」や「レポート」に変換する作業が手間。  
2. 情報が散在し、全体像を把握するのに時間がかかる。  
3. 既存ツールは「検索・要約」までは強いが、**可視化と構造化** が弱い。  

---

## 4. 製品機能範囲 (MVP)
### 入力モード
1. **入力ボックスモード**  
   - ユーザーが自由にテキストを入力またはコピー＆ペーストできる。  
   - 入力直後に各種生成ボタンで処理可能。  

2. **検索モード**  
   - 検索ボックス + 知識源選択メニューを提供。  
   - 初期知識源：NotebookLM。  
   - 将来的に Notion, Google Docs, 社内Wiki 等を追加可能。  
   - 検索結果は StructNote 画面内で固定表示し、即加工可能。  

3. **右クリックモード（ブラウザ連携）**  
   - ユーザーが任意のページでテキストを選択し、右クリックメニューから StructNote に送信できる。  
   - StructNote が受け取ったテキストをそのまま加工に利用。  

---

### 出力機能
- **マインドマップ生成**（Mermaid.js mindmap）  
- **業務フロー図生成**（Mermaid.js flowchart）  
- **システム構成図生成**（Mermaid.js / diagrams ライブラリ）  
- **レポート書生成**（Markdown → PDF/HTML, テンプレート対応）  

---

## 5. 機能優先度
| 優先度 | 機能 |
|--------|------|
| P0（必須） | 入力ボックス、NotebookLM 検索入口、業務フロー図生成 |
| P1（重要） | マインドマップ生成、レポート書生成、右クリックメニュー |
| P2（拡張） | システム構成図生成、知識源リストのカスタマイズ |
| P3（将来） | 多言語入力対応、音声/画像入力、チーム共有機能 |

---

## 6. 技術範囲
- **フロントエンド**：React + TypeScript + Chrome Extension (Manifest V3)  
- **バックエンド**：Python + FastAPI  
- **データベース**：SQLite（MVP）、将来的に PostgreSQL  
- **可視化**：Mermaid.js（フロント描画）、diagrams ライブラリ（構成図生成）  
- **AI サービス**：OpenAI API（GPT モデル、Embeddings）  
- **バージョン管理**：GitHub プライベートリポジトリ  

---

## 7. 成功指標 (KPI)
- NotebookLM の検索結果や任意テキストを StructNote に入力し、  
  **1 分以内に図表やレポートを生成できること**。  
- 生成物が業務資料としてそのまま利用可能な品質であること。  
- アプリケーションが安定稼働すること（クラッシュ率 1% 未満）。  

---

## 8. リスクと制約
- NotebookLM API が未公開 → 初期は「埋め込み/コピー方式」で対応。  
- 一部サイトは iframe 埋め込みを禁止している可能性あり。  
- StructNote は **加工専用ツール** として設計し、一次検索機能は持たない。  

---

## 9. バージョン計画 (ロードマップ)
- **v1.0 (MVP)**  
  - 入力ボックス  
  - NotebookLM 固定検索入口  
  - 業務フロー図生成  

- **v1.1**  
  - マインドマップ生成  
  - レポート書生成  
  - 右クリックメニュー  

- **v1.2**  
  - システム構成図生成  
  - 知識源リストのカスタマイズ  

- **v2.0**  
  - 多言語入力対応  
  - 音声/画像入力  
  - チームコラボレーション機能  

